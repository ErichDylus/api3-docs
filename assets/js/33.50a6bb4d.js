(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{482:function(e,t,r){e.exports=r.p+"assets/img/become-sponsor.98675ed3.png"},574:function(e,t,r){"use strict";r.r(t);var s=r(8),a=Object(s.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"frontmatter-title"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#frontmatter-title"}},[e._v("#")]),e._v(" "+e._s(e.$frontmatter.title))]),e._v(" "),s("TocHeader"),e._v(" "),s("TOC",{staticClass:"table-of-contents",attrs:{"include-level":[2,3]}}),e._v(" "),s("Todo",[s("p",[e._v("This doc needs updating once the new repo README(s) are ready for the Airnode (beta) re-writes.\n")]),s("p",[e._v("Who is a sponsor?")]),e._v(" "),s("p",[e._v("A sponsor is you, the developer. Using a wallet you are going to sponsor a requester (your contract) and fund the Airnodes you wish to retrieve data from.\n")])]),s("p"),e._v(" "),s("p",[e._v("Become a "),s("em",[e._v("requester")]),e._v(" to consume the off-chain API data that an Airnode provides. A "),s("em",[e._v("requester")]),e._v(" is an entity (individual, business, etc.) whose contracts make requests to Airnodes. These contracts are called clients or client contracts. A "),s("em",[e._v("requester")]),e._v(" should not be confused with an "),s("em",[e._v("end user")]),e._v(" who is someone that uses a requester's client contracts, usually as part of a dApp.")]),e._v(" "),s("p",[e._v("Setting up a requester record is needed to allow client contracts access to one or more Airnodes. A requester record is used to endorse client contracts and fund Airnodes.")]),e._v(" "),s("p",[e._v("The following diagram illustrates how to become a requester.")]),e._v(" "),s("hr"),e._v(" "),s("blockquote",[s("p",[s("img",{attrs:{src:r(482),alt:"become-requester"}})])]),e._v(" "),s("h2",{attrs:{id:"requester-admin-commands"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#requester-admin-commands"}},[e._v("#")]),e._v(" Requester Admin Commands")]),e._v(" "),s("p",[e._v("There are several requester related commands in the "),s("RouterLink",{attrs:{to:"/next/reference/cli-commands.html#create-requester"}},[e._v("@api3/airnode-admin")]),e._v(" package. Here we will use three commands to create a requester record, endorse client contracts and fund Airnodes.")],1),e._v(" "),s("ol",[s("li",[e._v("Create a Requester Record:"),s("RouterLink",{attrs:{to:"/next/reference/cli-commands.html#create-requester"}},[s("code",[e._v("create-requester")])]),e._v("creates a requester record.")],1),e._v(" "),s("li",[e._v("Endorse Client Contracts:"),s("RouterLink",{attrs:{to:"/next/reference/cli-commands.html#endorse-client"}},[s("code",[e._v("endorse-client")])]),e._v("endorses a client contract.")],1),e._v(" "),s("li",[e._v("Fund Airnodes:"),s("RouterLink",{attrs:{to:"/next/reference/cli-commands.html#derive-designated-wallet"}},[s("code",[e._v("derive-designated-wallet")])]),e._v("creates a requester specific wallet associated with an Airnode.")],1)]),e._v(" "),s("h2",{attrs:{id:"part-1-create-a-requester-record"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#part-1-create-a-requester-record"}},[e._v("#")]),e._v(" Part 1: Create a Requester Record")]),e._v(" "),s("p",[e._v("Each requester needs to create a requester record and get assigned a requester index. To create a new requester record you will need the following.")]),e._v(" "),s("ul",[s("li",[e._v("A blockchain providerURL such as the URL with your Infura providerID on the Ropsten network.")]),e._v(" "),s("li",[e._v("A mnemonic for gas to fund the record creation.")]),e._v(" "),s("li",[e._v("An address that will be used to administer the requester record (requesterAdmin) in the future, use the default public address of the mnemonic.")])]),e._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("mnemonic")]),e._v(" "),s("p",[e._v("This wallet pays the transaction gas costs to write the requester record. This is not the wallet(s) that will pay gas costs to actually execute any Airnode, for that the Airnode themselves will create sponsor wallets on behalf of your sponsor record. "),s("RouterLink",{attrs:{to:"/next/grp-developers/sponsorship.html#part-3-funding-airnodes"}},[e._v("Part 3")]),e._v(" will explain more about sponsor wallets.")],1)]),e._v(" "),s("p",[s("RouterLink",{attrs:{to:"/next/reference/cli-commands.html#create-requester"}},[e._v("@api3/airnode-admin create-requester")])],1),e._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[e._v("npx @api3/airnode-admin create-requester "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  --providerUrl https://ropsten.infura.io/v3/"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("KEY"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  --mnemonic "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"cricket oppose ..."')]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Used to pay the gas costs for this transaction.")]),e._v("\n  --requesterAdmin 0xaBd9daAdf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("..")]),e._v(".   "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# The admin address, mnemonic public key.")]),e._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Returns")]),e._v("\n  Created requester with index "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("6")]),e._v(" \n  and admin address 0xaBd9daAdf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("..")]),e._v(".\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br")])]),s("p",[e._v("The command "),s("code",[e._v("create-requester")]),e._v(" will return a "),s("code",[e._v("requester index")]),e._v(" and the "),s("code",[e._v("requesterAdmin")]),e._v(" address that were passed to execute the command. It is important to remember the requester index for future use.")]),e._v(" "),s("h2",{attrs:{id:"part-2-endorse-client-contracts"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#part-2-endorse-client-contracts"}},[e._v("#")]),e._v(" Part 2: Endorse Client Contracts")]),e._v(" "),s("p",[e._v("A requester endorses a client contract allowing it make Airnode requests on behave of the requester. Your client contract should already be deployed.")]),e._v(" "),s("p",[e._v("Endorsing a client contract means it can make Airnode requests, paid for by a designated wallet associated with the Airnode and the requesterIndex from your requester record. "),s("RouterLink",{attrs:{to:"/next/grp-developers/sponsorship.html#part-3-funding-airnodes"}},[e._v("Part 3")]),e._v(" will explain more about designated wallets.")],1),e._v(" "),s("p",[e._v("To endorse a client contract you will need the following.")]),e._v(" "),s("ul",[s("li",[e._v("A blockchain providerURL such as the URL with your Infura providerID on the Ropsten network.")]),e._v(" "),s("li",[e._v("A mnemonic for gas to fund the endorsement.")]),e._v(" "),s("li",[e._v("The "),s("code",[e._v("requesterIndex")]),e._v(" returned from the call to create-requester. (Part #1 above)")]),e._v(" "),s("li",[e._v("The "),s("code",[e._v("clientAddress")]),e._v(" which is the public address of the client contract.")])]),e._v(" "),s("p",[s("RouterLink",{attrs:{to:"/next/reference/cli-commands.html#endorse-client"}},[e._v("@api3/airnode-admin endorse-client")])],1),e._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[e._v("npx @api3/airnode-admin endorse-client "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  --providerUrl https://ropsten.infura.io/v3/"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("KEY"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  --mnemonic "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"cricket oppose ...."')]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Used to pay the gas costs for this transaction.")]),e._v("\n  --requesterIndex "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("6")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("                 "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# The requesterIndex of the requester record.")]),e._v("\n  --clientAddress 0x2c2e12"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("..")]),e._v(".          "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# The public address of the contract to endorse.")]),e._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Returns")]),e._v("\n  Endorsed 0x2c2e12"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("..")]),e._v(". \n  by requester with index "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("6")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br")])]),s("p",[e._v("The command "),s("code",[e._v("endorse-client")]),e._v(" will return the client contract address and the requester index that were passed to execute the command.")]),e._v(" "),s("h2",{attrs:{id:"part-3-funding-airnodes"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#part-3-funding-airnodes"}},[e._v("#")]),e._v(" Part 3: Funding Airnodes")]),e._v(" "),s("p",[e._v("To fund a particular Airnode, a requester instructs the Airnode to derive a "),s("em",[e._v("designated wallet")]),e._v(" on behave of the requester  using the Airnode's ID and the requester's requesterIndex. Once the wallet is created it must be funded using the public address returned by the command"),s("code",[e._v("derive-designated-wallet")]),e._v(". Each Airnode keeps a list of requester designated wallets that can access the Airnode. Learn more about "),s("RouterLink",{attrs:{to:"/next/reference/protocols/request-response/designated-wallet.html"}},[e._v("designated wallets")]),e._v(".")],1),e._v(" "),s("p",[e._v("Client contracts endorsed by a requester will have access to all Airnodes the requester has funded using the designated wallet. This allows the requester to cover the gas cost when executing an Airnode. However this does not cover the cost of API data that the Airnode serves, see "),s("RouterLink",{attrs:{to:"/next/grp-developers/fees.html#api-provider-fees"}},[e._v("API Provider Fees")]),e._v(". Requesters need to keep their designated wallets topped off if they want the Airnodes to fulfill requests made by their endorsed client contracts.")],1),e._v(" "),s("p",[e._v("Since the designated wallet is recorded in the cloud provider (i.g., AWS) where Airnode functions live, there are no on-chain transaction gas costs when deriving a designated wallet.")]),e._v(" "),s("DesignatedWalletWarning"),e._v(" "),s("p",[e._v("Learn more about "),s("RouterLink",{attrs:{to:"/next/reference/protocols/request-response/designated-wallet.html"}},[e._v("designated wallets")]),e._v(" in the reference section.")],1),e._v(" "),s("p",[e._v("To fund an Airnode simply tell any Airnode to derive a "),s("em",[e._v("designated wallet")]),e._v(" for your requesterIndex. This will return the public address of the designated wallet so you can fund it.")]),e._v(" "),s("p",[e._v("To derive a designated wallet for an Airnode and fund it, you will need the following.")]),e._v(" "),s("ul",[s("li",[e._v("A blockchain providerURL such as the URL with your Infura providerID on the Ropsten network.")]),e._v(" "),s("li",[e._v("The "),s("code",[e._v("airnodeId")]),e._v(" of the desired Airnode.")]),e._v(" "),s("li",[e._v("The requester's "),s("code",[e._v("requesterIndex")]),e._v(" that was generated when creating a requester record.")])]),e._v(" "),s("p",[s("RouterLink",{attrs:{to:"/next/reference/cli-commands.html#derive-designated-wallet"}},[e._v("@api3/airnode-admin derive-designated-wallet")])],1),e._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[e._v("npx @api3/airnode-admin derive-designated-wallet "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  --providerUrl https://ropsten.infura.io/v3/"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("KEY"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  --airnodeId 0xe1e0dd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("..")]),e._v(". "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# The ID of the Airnode the requester wants access to.")]),e._v("\n  --requesterIndex "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("6")]),e._v("        "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# The requesterIndex identifies the requester record.")]),e._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Returns")]),e._v("\n  Derived the address of the wallet designated "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("for")]),e._v(" requester with index "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("6")]),e._v(" \n  by Airnode with ID 0xaebd88bf458dfc4899d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("..")]),e._v(". \n  to be 0xa5C073E31fAb1F8acf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("..")]),e._v(". "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Here is the wallet's public address.")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br")])]),s("p",[e._v("The command derive-designated-wallet will return the public address of the designated wallet to be funded.")]),e._v(" "),s("h2",{attrs:{id:"record-keeping"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#record-keeping"}},[e._v("#")]),e._v(" Record Keeping")]),e._v(" "),s("p",[e._v("During and after creating/managing your requester record there are some items you should write down for future use.")]),e._v(" "),s("table",[s("thead",[s("tr",[s("th",[e._v("Item")]),e._v(" "),s("th",[e._v("Description")])])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("Maintenance wallet (mnemonic)")]),e._v(" "),s("td",[e._v("A minimally funded mnemonic used to change your requester record, client contract endorsements, etc. in the future.")])]),e._v(" "),s("tr",[s("td",[e._v("requesterIndex")]),e._v(" "),s("td",[e._v("* An identifer (number) you received when creating a requester record.")])]),e._v(" "),s("tr",[s("td",[e._v("requesterAdmin")]),e._v(" "),s("td",[e._v("Usually the default public address of the mnemonic you used when creating a requester record.")])]),e._v(" "),s("tr",[s("td",[e._v("Airnode designated wallets")]),e._v(" "),s("td",[e._v("** For each Airnode you have funded a custodial designated wallet was created. The Airnode keeps the private key and returns you the public address which you use to add funds.")])])])]),e._v(" "),s("p",[e._v("* Do not loose your requesterIndex, it cannot be recovered.")]),e._v(" "),s("p",[e._v("** You can acquire the public address of a designated wallet later, if you loose it, by running the command"),s("code",[e._v("derive-designated-wallet")]),e._v("again. Since the designated wallet was already created for the requesterIndex/airnodeId pair, the command will only return the known public address for the wallet.")])],1)}),[],!1,null,null,null);t.default=a.exports}}]);